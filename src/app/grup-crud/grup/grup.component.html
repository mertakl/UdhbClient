<app-navigation></app-navigation>
<div class="container">
  <div class="form">
    <mat-form-field floatPlaceholder="never" color="accent">
      <input matInput type="text" (keyup)="applyFilter($event.target.value)" placeholder="Sorgula">
    </mat-form-field>
  </div>
  <div>
    <table mat-table [dataSource]="dataSource">
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> Id</th>
        <td mat-cell *matCellDef="let grup"> {{grup.id}}</td>
      </ng-container>
      <ng-container matColumnDef="uetdsSeferRefNo">
        <th mat-header-cell *matHeaderCellDef> Uetds Sefer Referans No</th>
        <td mat-cell *matCellDef="let grup"> {{grup.sefer.uetdsSeferReferansNo}}</td>
      </ng-container>
      <ng-container matColumnDef="uetdsGrupRefNo">
        <th mat-header-cell *matHeaderCellDef> Uetds Grup Referans No</th>
        <td mat-cell *matCellDef="let grup"> {{grup.uetdsGrupRefNo}}</td>
      </ng-container>
      <ng-container matColumnDef="grupAdi">
        <th mat-header-cell *matHeaderCellDef> Grup Adı</th>
        <td mat-cell *matCellDef="let grup"> {{grup.grupAdi}}</td>
      </ng-container>
      <ng-container matColumnDef="grupAciklama">
        <th mat-header-cell *matHeaderCellDef> Grup Açıklama</th>
        <td mat-cell *matCellDef="let grup"> {{(grup.grupAciklama | slice:0:10 ) + (grup.grupAciklama.length > 10 ? '...' : '')}}</td>
      </ng-container>
      <ng-container matColumnDef="baslangicUlke">
        <th mat-header-cell *matHeaderCellDef> Başlangıç Ülke</th>
        <td mat-cell *matCellDef="let grup"> {{grup.baslangicUlke.countryName}}</td>
      </ng-container>
      <ng-container matColumnDef="baslangicIl">
        <th mat-header-cell *matHeaderCellDef> Başlangıç İl</th>
        <td mat-cell *matCellDef="let grup"> {{grup.baslangicIl.cityName}}</td>
      </ng-container>
      <ng-container matColumnDef="baslangicIlce">
        <th mat-header-cell *matHeaderCellDef> Başlangıç İlçe</th>
        <td mat-cell *matCellDef="let grup"> {{grup.baslangicIlce.districtName}}</td>
      </ng-container>
      <ng-container matColumnDef="baslangicYer">
        <th mat-header-cell *matHeaderCellDef> Başlangıç Yer</th>
        <td mat-cell *matCellDef="let grup"> {{grup.baslangicYer}}</td>
      </ng-container>
      <ng-container matColumnDef="bitisUlke">
        <th mat-header-cell *matHeaderCellDef> Bitiş Ülke</th>
        <td mat-cell *matCellDef="let grup"> {{grup.bitisUlke.countryName}}</td>
      </ng-container>
      <ng-container matColumnDef="bitisIl">
        <th mat-header-cell *matHeaderCellDef> Bitiş İl</th>
        <td mat-cell *matCellDef="let grup"> {{grup.bitisIl.cityName}}</td>
      </ng-container>
      <ng-container matColumnDef="bitisIlce">
        <th mat-header-cell *matHeaderCellDef> Bitiş İlçe</th>
        <td mat-cell *matCellDef="let grup"> {{grup.bitisIlce.districtName}}</td>
      </ng-container>
      <ng-container matColumnDef="bitisYer">
        <th mat-header-cell *matHeaderCellDef> Bitiş Yer</th>
        <td mat-cell *matCellDef="let grup"> {{grup.bitisYer}}</td>
      </ng-container>
      <!-- actions -->
      <ng-container matColumnDef="actions">
        <mat-header-cell *matHeaderCellDef>
          <button mat-icon-button color="primary" matTooltip="Grup Ekle" (click)="addGrup()">
            <mat-icon aria-label="Example icon-button with a heart icon">add</mat-icon>
          </button>
        </mat-header-cell>
        <mat-cell *matCellDef="let grup;">
          <button mat-icon-button color="accent" matTooltip="Grup Güncelle"
                  (click)="updateGrup(grup.id, grup.grupAdi, grup.grupAciklama, grup.baslangicUlke.countryName, grup.baslangicIl.cityName, grup.baslangicIlce.districtName, grup.baslangicYer,
                  grup.bitisUlke.countryName, grup.bitisIl.cityName, grup.bitisIlce.districtName, grup.bitisYer)">
            <mat-icon aria-label="Edit">edit</mat-icon>
          </button>
        </mat-cell>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
  </div>
</div>

